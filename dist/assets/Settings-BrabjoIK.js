import{_ as Q,r as f,o as W,d as g,e as a,f as t,w as l,k as I,s as B,h as n,g as d,t as b,i as O,m as J,F as X,j as Y,E as x,a as Z,l as c,v as h}from"./index-Cfond06q.js";const ee={class:"settings"},te={class:"container"},le={class:"actions"},oe={class:"feedback-list-section"},ae={class:"toggle-icon"},se={key:0,class:"feedback-list"},ne={key:0,class:"empty-feedback"},ue={class:"feedback-item-header"},de={class:"feedback-item-content"},ie={key:0,class:"feedback-item-contact"},re={__name:"Settings",setup(ce){const T=Z(),u=f({depth:2,count:5,style:"严谨"}),v=f(null),i=f({type:"",content:"",contact:""}),_=f(!1),m=f([]),k=f(!1),F=()=>{localStorage.setItem("aiSettings",JSON.stringify(u.value)),x.success("设置已保存"),console.log("设置已保存:",u.value)},U=()=>{u.value={depth:2,count:5,style:"严谨"}},D=()=>{F(),T.push("/thinking")},E=()=>{const s=localStorage.getItem("aiSettings");s&&(u.value=JSON.parse(s))},C=()=>{const s=localStorage.getItem("feedbacks");s&&(m.value=JSON.parse(s).reverse())};W(()=>{E(),C()});const L=async()=>{if(v.value)try{await v.value.validate(),_.value=!0,setTimeout(()=>{const s=JSON.parse(localStorage.getItem("feedbacks")||"[]");s.push({...i.value,id:Date.now(),createdAt:new Date().toISOString()}),localStorage.setItem("feedbacks",JSON.stringify(s)),x.success("反馈提交成功，感谢您的参与！"),w(),C(),_.value=!1},1e3)}catch(s){console.error("表单验证失败:",s),_.value=!1}},w=()=>{v.value&&v.value.resetFields(),i.value={type:"",content:"",contact:""}},M=s=>{h.confirm("确定要删除这条反馈吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{m.value=m.value.filter(e=>e.id!==s),localStorage.setItem("feedbacks",JSON.stringify(m.value)),x.success("反馈已删除")}).catch(()=>{})},A=()=>{k.value=!k.value},R=s=>({suggestion:"功能建议",bug:"bug报告",experience:"体验优化",other:"其他"})[s]||s,q=s=>new Date(s).toLocaleString();return(s,e)=>{const j=n("el-slider"),r=n("el-form-item"),z=n("el-input-number"),V=n("el-radio"),$=n("el-radio-group"),p=n("el-button"),y=n("el-card"),S=n("el-option"),G=n("el-select"),N=n("el-input"),H=n("el-tag"),K=n("el-timeline-item"),P=n("el-timeline");return c(),g("div",ee,[a("div",te,[e[20]||(e[20]=a("h2",null,"设置",-1)),t(y,{class:"settings-card"},{default:l(()=>[e[12]||(e[12]=a("h3",null,"AI设置",-1)),t(I(B),{"label-width":"120px"},{default:l(()=>[t(r,{label:"提问深度"},{default:l(()=>[t(j,{modelValue:u.value.depth,"onUpdate:modelValue":e[0]||(e[0]=o=>u.value.depth=o),min:1,max:3,marks:{1:"基础",2:"进阶",3:"专家"}},null,8,["modelValue"])]),_:1}),t(r,{label:"提问数量"},{default:l(()=>[t(z,{modelValue:u.value.count,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value.count=o),min:3,max:10,step:1},null,8,["modelValue"])]),_:1}),t(r,{label:"提问风格"},{default:l(()=>[t($,{modelValue:u.value.style,"onUpdate:modelValue":e[2]||(e[2]=o=>u.value.style=o)},{default:l(()=>[t(V,{label:"严谨"},{default:l(()=>[...e[6]||(e[6]=[d("严谨",-1)])]),_:1}),t(V,{label:"轻松"},{default:l(()=>[...e[7]||(e[7]=[d("轻松",-1)])]),_:1}),t(V,{label:"幽默"},{default:l(()=>[...e[8]||(e[8]=[d("幽默",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a("div",le,[t(p,{type:"primary",onClick:F},{default:l(()=>[...e[9]||(e[9]=[d("保存设置",-1)])]),_:1}),t(p,{onClick:U},{default:l(()=>[...e[10]||(e[10]=[d("重置",-1)])]),_:1}),t(p,{onClick:D},{default:l(()=>[...e[11]||(e[11]=[d("返回对话",-1)])]),_:1})])]),_:1}),t(y,{class:"settings-card"},{default:l(()=>[e[18]||(e[18]=a("h3",null,"意见反馈",-1)),t(I(B),{"label-width":"120px",ref_key:"feedbackFormRef",ref:v,model:i.value,"status-icon":""},{default:l(()=>[t(r,{label:"反馈类型",prop:"type",required:""},{default:l(()=>[t(G,{modelValue:i.value.type,"onUpdate:modelValue":e[3]||(e[3]=o=>i.value.type=o),placeholder:"请选择反馈类型"},{default:l(()=>[t(S,{label:"功能建议",value:"suggestion"}),t(S,{label:"bug报告",value:"bug"}),t(S,{label:"体验优化",value:"experience"}),t(S,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),t(r,{label:"反馈内容",prop:"content",required:""},{default:l(()=>[t(N,{modelValue:i.value.content,"onUpdate:modelValue":e[4]||(e[4]=o=>i.value.content=o),type:"textarea",rows:5,placeholder:"请详细描述您的反馈内容"},null,8,["modelValue"])]),_:1}),t(r,{label:"联系方式",prop:"contact"},{default:l(()=>[t(N,{modelValue:i.value.contact,"onUpdate:modelValue":e[5]||(e[5]=o=>i.value.contact=o),placeholder:"请留下您的联系方式（可选）"},null,8,["modelValue"])]),_:1}),t(r,null,{default:l(()=>[t(p,{type:"primary",onClick:L,loading:_.value},{default:l(()=>[d(b(_.value?"提交中...":"提交反馈"),1)]),_:1},8,["loading"]),t(p,{onClick:w},{default:l(()=>[...e[13]||(e[13]=[d("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),a("div",oe,[a("div",{class:"feedback-list-header",onClick:A},[e[14]||(e[14]=a("h4",null,"我的反馈列表",-1)),a("span",ae,b(k.value?"▼":"▶"),1)]),k.value?(c(),g("div",se,[m.value.length===0?(c(),g("div",ne,[...e[15]||(e[15]=[a("p",null,"暂无反馈记录",-1)])])):(c(),J(P,{key:1},{default:l(()=>[(c(!0),g(X,null,Y(m.value,o=>(c(),J(K,{key:o.id,timestamp:q(o.createdAt)},{default:l(()=>[t(y,{class:"feedback-item-card"},{default:l(()=>[a("div",ue,[t(H,{type:o.type==="bug"?"danger":o.type==="suggestion"?"success":"info"},{default:l(()=>[d(b(R(o.type)),1)]),_:2},1032,["type"]),t(p,{type:"danger",size:"small",circle:"",onClick:me=>M(o.id),title:"删除反馈"},{default:l(()=>[...e[16]||(e[16]=[a("i",{class:"el-icon-delete"},null,-1)])]),_:1},8,["onClick"])]),a("div",de,b(o.content),1),o.contact?(c(),g("div",ie,[e[17]||(e[17]=a("strong",null,"联系方式：",-1)),d(b(o.contact),1)])):O("",!0)]),_:2},1024)]),_:2},1032,["timestamp"]))),128))]),_:1}))])):O("",!0)])]),_:1}),t(y,{class:"settings-card"},{default:l(()=>[...e[19]||(e[19]=[a("h3",null,"关于",-1),a("div",{class:"about-content"},[a("p",null,"口袋里的苏格拉底 v0.1.0"),a("p",null,"用提问引发深度思考"),a("p",null,"© 2025 口袋里的苏格拉底")],-1)])]),_:1})])])}}},fe=Q(re,[["__scopeId","data-v-58b55bd4"]]);export{fe as default};
