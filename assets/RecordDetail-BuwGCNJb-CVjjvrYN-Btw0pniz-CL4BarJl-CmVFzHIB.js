import{_ as F,S as N,G as Q,k as _,N as w,f as A,E as d,F as m,b as u,z as a,c,l as t,d as r,m as p,B as J,y as L,s as $,Q as v}from"./index-BT3NiiXB.js";import{o as T}from"./record-AmF9OWS7-D1muATjG-D2PamTer-fFwh1RM7-B2arVmeC.js";const K={class:"record-detail"},O={class:"container"},P={key:0,class:"loading"},W={key:1,class:"no-record"},X={key:2,class:"record-content"},j={class:"record-header"},Y={class:"record-meta"},Z={class:"record-date"},a1={class:"record-questions"},s1={class:"question"},e1={class:"question-number"},l1={class:"question-content"},c1={class:"answer"},o1={class:"answer-content"},t1={class:"record-actions"},r1={class:"share-modal-content"},i1={class:"share-url-section"},n1={__name:"RecordDetail",setup(d1){const x=N(),g=Q(),S=T(),B=_(()=>x.params.id),l=w(null),C=w(!0),f=w(!1),i=_(()=>{var e;return`${window.location.origin}/records/${(e=l.value)==null?void 0:e.id}`}),h=w(!1),M=e=>new Date(e).toLocaleString(),V=()=>{C.value=!0;try{const e=S.getRecordById(B.value);l.value=e}catch(e){console.error("加载记录详情失败:",e)}finally{C.value=!1}},n=async()=>{if(i.value)try{h.value=!0,await navigator.clipboard.writeText(i.value),v.success("分享链接已复制到剪贴板"),f.value=!1}catch(e){console.error("复制链接失败:",e),v.error("复制链接失败，请重试")}finally{h.value=!1}},b=()=>{n(),v.info("请在微信中粘贴链接分享给好友")},q=()=>{n(),v.info("请在微信朋友圈中粘贴链接分享")},E=()=>{n(),v.info("请在抖音中粘贴链接分享")},I=()=>{n(),v.info("请在小红书笔记中粘贴链接分享")},R=()=>{var e;const s=`我的思考记录：${(e=l.value)==null?void 0:e.topic} ${i.value}`,y=`https://service.weibo.com/share/share.php?url=${encodeURIComponent(i.value)}&title=${encodeURIComponent(s)}`;window.open(y,"_blank","width=600,height=400")};return A(()=>{V()}),(e,s)=>{const y=d("el-skeleton"),z=d("el-button"),U=d("el-tag"),G=d("el-card"),H=d("el-input"),D=d("el-dialog");return u(),m("div",K,[a("div",O,[s[20]||(s[20]=a("h2",null,"思考记录详情",-1)),C.value?(u(),m("div",P,[c(y,{rows:5,animated:""})])):l.value?(u(),m("div",X,[c(G,{class:"record-card"},{default:t(()=>[a("div",j,[a("h3",null,r(l.value.topic),1),a("div",Y,[c(U,{size:"small"},{default:t(()=>[p(r(l.value.topicType),1)]),_:1}),a("span",Z,r(M(l.value.createdAt)),1)])]),a("div",a1,[s[8]||(s[8]=a("h4",null,"问题与回答",-1)),(u(!0),m(J,null,L(l.value.questions,(o,k)=>(u(),m("div",{key:k,class:"question-item"},[a("div",s1,[a("span",e1,r(k+1)+".",1),a("span",l1,r(o),1)]),a("div",c1,[s[7]||(s[7]=a("span",{class:"answer-label"},"我的回答：",-1)),a("span",o1,r(l.value.answers[k]||"未回答"),1)])]))),128))]),a("div",t1,[c(z,{onClick:s[1]||(s[1]=o=>$(g).push("/records"))},{default:t(()=>[...s[9]||(s[9]=[p("返回列表",-1)])]),_:1}),c(z,{type:"primary",onClick:s[2]||(s[2]=o=>f.value=!0)},{default:t(()=>[...s[10]||(s[10]=[p("分享记录",-1)])]),_:1})])]),_:1})])):(u(),m("div",W,[s[6]||(s[6]=a("p",null,"未找到思考记录",-1)),c(z,{type:"primary",onClick:s[0]||(s[0]=o=>$(g).push("/records"))},{default:t(()=>[...s[5]||(s[5]=[p("返回列表",-1)])]),_:1})])),c(D,{modelValue:f.value,"onUpdate:modelValue":s[4]||(s[4]=o=>f.value=o),title:"分享思考记录",width:"400px","destroy-on-close":""},{default:t(()=>[a("div",r1,[a("div",i1,[s[11]||(s[11]=a("p",{class:"share-title"},"分享链接",-1)),c(H,{modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=o=>i.value=o),readonly:"",placeholder:"分享链接",class:"share-url-input"},{append:t(()=>[c(z,{onClick:n,loading:h.value},{default:t(()=>[p(r(h.value?"复制中...":"复制链接"),1)]),_:1},8,["loading"])]),_:1},8,["modelValue"]),s[12]||(s[12]=a("p",{class:"share-tip"},"复制链接后，您可以粘贴到任意平台分享",-1))]),a("div",{class:"share-platforms"},[s[19]||(s[19]=a("p",{class:"share-title"},"分享到社交媒体",-1)),a("div",{class:"platforms-grid"},[a("div",{class:"platform-item",onClick:b},[...s[13]||(s[13]=[a("div",{class:"platform-icon wechat"},[a("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[a("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm6.605 15.934c-.481.438-.944.821-1.525 1.117-1.391.764-2.868 1.143-4.416 1.143-1.548 0-3.025-.379-4.416-1.143-.581-.296-1.044-.679-1.525-1.117-.246-.219-.479-.456-.681-.716-.195-.276-.365-.568-.503-.877-.138-.309-.242-.638-.311-.987-.069-.349-.098-.713-.098-1.091 0-.378.029-.742.098-1.091.069-.349.173-.678.311-.987.138-.309.308-.599.503-.877.202-.26.435-.497.681-.716.481-.438.944-.821 1.525-1.117 1.391-.764 2.868-1.143 4.416-1.143s3.025.379 4.416 1.143c.581.296 1.044.679 1.525 1.117.246.219.479.456.681.716.195.276.365.568.503.877.138.309.242.638.311.987.069.349.098.713.098 1.091 0 .378-.029.742-.098 1.091-.069.349-.173.678-.311.987-.138.309-.308.599-.503.877-.202.26-.435.497-.681.716zM9.356 14.733c-.397.357-.78.661-1.157.887-.811.471-1.701.713-2.575.713-.615 0-1.182-.128-1.69-.375-.096-.046-.184-.1-.264-.162.723-.19 1.399-.445 2.062-.763.535-.252 1.018-.567 1.47-.916.44-.353.809-.75 1.071-1.178.275-.448.453-.937.531-1.436.079-.499.12-1.023.12-1.572 0-.549-.041-1.073-.12-1.572-.078-.499-.256-.988-.531-1.436-.262-.428-.631-.825-1.071-1.178-.452-.349-.935-.664-1.47-.916-.663-.318-1.339-.573-2.062-.763-.08.062-.168.116-.264.162-.508.247-1.075.375-1.69.375-.874 0-1.764-.242-2.575-.713-.377-.226-.76-.53-1.157-.887-.367-.336-.678-.721-.941-1.137.187.082.386.157.597.227.942.333 1.952.505 2.983.505.528 0 1.052-.042 1.557-.123.573-.091 1.118-.223 1.66-.389.503-.154.979-.344 1.448-.555.499-.222.968-.479 1.414-.763.45-.289.863-.614 1.24-.961.372-.352.702-.731.986-1.137.334.445.595.926.788 1.43.178.471.272.976.291 1.508.019.532-.053 1.043-.173 1.557-.127.531-.312 1.032-.556 1.518-.234.463-.527.902-.867 1.313-.326.394-.699.748-1.117 1.058-.418.311-.883.577-1.383.794-.498.217-1.03.386-1.594.506-.576.121-1.157.182-1.743.182-.992 0-1.98-.168-2.93-.489-.204-.069-.396-.14-.575-.221.303.448.629.854.98 1.222z"})])],-1),a("p",{class:"platform-name"},"微信好友",-1)])]),a("div",{class:"platform-item",onClick:q},[...s[14]||(s[14]=[a("div",{class:"platform-icon wechat-moments"},[a("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[a("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 22c-5.514 0-10-4.486-10-10S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10zm1.335-8.361c.845 0 1.533-.688 1.533-1.533s-.688-1.533-1.533-1.533-1.533.688-1.533 1.533.688 1.533 1.533 1.533zm-2.67 0c.845 0 1.533-.688 1.533-1.533s-.688-1.533-1.533-1.533-1.533.688-1.533 1.533.688 1.533 1.533 1.533zm-2.67 0c.845 0 1.533-.688 1.533-1.533s-.688-1.533-1.533-1.533-1.533.688-1.533 1.533.688 1.533 1.533 1.533zM12 19c-3.859 0-7-3.14-7-7 0-1.93.742-3.682 1.938-4.946L12 12l7.062-4.946C18.258 8.318 19 10.07 19 12c0 3.86-3.141 7-7 7z"})])],-1),a("p",{class:"platform-name"},"朋友圈",-1)])]),a("div",{class:"platform-item",onClick:E},[...s[15]||(s[15]=[a("div",{class:"platform-icon douyin"},[a("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[a("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 22c-5.514 0-10-4.486-10-10S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10zm3.276-7.303l-5.952-3.144c-.148-.078-.333-.078-.481 0l-5.952 3.144c-.199.105-.266.362-.161.561.105.199.362.266.561.161l5.706-3.018 5.706 3.018c.078.041.161.062.243.062.125 0 .25-.041.344-.125.199-.105.266-.362.161-.561z"})])],-1),a("p",{class:"platform-name"},"抖音",-1)])]),a("div",{class:"platform-item",onClick:I},[...s[16]||(s[16]=[a("div",{class:"platform-icon xiaohongshu"},[a("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[a("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 22c-5.514 0-10-4.486-10-10S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10zm4.996-14.002c-.021-.57-.237-1.074-.585-1.422-.348-.348-.852-.564-1.422-.585-.021-.002-.042-.003-.063-.003-1.105 0-2.005.9-2.005 2.005 0 .021.001.042.003.063-.57.021-1.074.237-1.422.585-.348.348-.564.852-.585 1.422-.002.021-.003.042-.003.063 0 1.105.9 2.005 2.005 2.005.021 0 .042-.001.063-.003.57-.021 1.074-.237 1.422-.585.348-.348.564-.852.585-1.422.002-.021.003-.042.003-.063 1.105 0 2.005-.9 2.005-2.005 0-.021-.001-.042-.003-.063zm-6.571 1.57c-.469 0-.85.381-.85.85s.381.85.85.85.85-.381.85-.85-.381-.85-.85-.85zm6.571 0c-.469 0-.85.381-.85.85s.381.85.85.85.85-.381.85-.85-.381-.85-.85-.85zm0 3.42c-.469 0-.85.381-.85.85s.381.85.85.85.85-.381.85-.85-.381-.85-.85-.85zm-6.571 0c-.469 0-.85.381-.85.85s.381.85.85.85.85-.381.85-.85-.381-.85-.85-.85z"})])],-1),a("p",{class:"platform-name"},"小红书",-1)])]),a("div",{class:"platform-item",onClick:R},[...s[17]||(s[17]=[a("div",{class:"platform-icon weibo"},[a("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[a("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm3.971 17.336c-2.617 0-4.745-2.128-4.745-4.745 0-.216.021-.425.062-.633.062-.312.354-.541.677-.479.312.062.541.354.479.677-.021.167-.031.333-.031.501 0 1.938 1.573 3.51 3.51 3.51.5 0 .927-.208 1.239-.552.062-.062.094-.146.062-.239-.031-.083-.115-.135-.208-.125-.229.01-.469.031-.708.031zM9.792 10.286c0 .501-.406.906-.906.906-.501 0-.906-.406-.906-.906s.406-.906.906-.906c.5 0 .906.406.906.906zm6.354 0c0 .501-.406.906-.906.906-.501 0-.906-.406-.906-.906s.406-.906.906-.906c.5 0 .906.406.906.906zm-3.177 3.177c0 .501-.406.906-.906.906-.501 0-.906-.406-.906-.906s.406-.906.906-.906c.5 0 .906.406.906.906zm3.177 0c0 .501-.406.906-.906.906-.501 0-.906-.406-.906-.906s.406-.906.906-.906c.5 0 .906.406.906.906zm-6.354 0c0 .501-.406.906-.906.906-.501 0-.906-.406-.906-.906s.406-.906.906-.906c.5 0 .906.406.906.906zm3.177 3.177c0 .501-.406.906-.906.906-.501 0-.906-.406-.906-.906s.406-.906.906-.906c.5 0 .906.406.906.906zm-6.354 0c0 .501-.406.906-.906.906-.501 0-.906-.406-.906-.906s.406-.906.906-.906c.5 0 .906.406.906.906z"})])],-1),a("p",{class:"platform-name"},"微博",-1)])]),a("div",{class:"platform-item",onClick:n},[...s[18]||(s[18]=[a("div",{class:"platform-icon copy"},[a("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[a("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})])],-1),a("p",{class:"platform-name"},"复制链接",-1)])])])])])]),_:1},8,["modelValue"])])])}}},v1=F(n1,[["__scopeId","data-v-44166455"]]);export{v1 as default};
