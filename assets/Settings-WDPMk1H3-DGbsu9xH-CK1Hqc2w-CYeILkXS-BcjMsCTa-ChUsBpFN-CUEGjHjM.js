import{$ as Q,o as M,A as m,f as P,E as n,F as b,a as r,z as u,G as l,l as a,s as C,e as J,m as c,b as y,r as O,i as U,B as W,y as X,d as V,w as Y}from"./index-Bi_O0Ifp.js";const ee={class:"settings"},le={class:"container"},ae={class:"actions"},te={class:"feedback-list-section"},ue={class:"toggle-icon"},se={key:0,class:"feedback-list"},ne={key:0,class:"empty-feedback"},oe={class:"feedback-item-header"},ce={class:"feedback-item-content"},de={key:0,class:"feedback-item-contact"},ie={__name:"Settings",setup(re){const N=M(),o=m({depth:2,count:5,style:"严谨"}),v=m(null),d=m({type:"",content:"",contact:""}),g=m(!1),p=m([]),_=m(!1),x=()=>{localStorage.setItem("aiSettings",JSON.stringify(o.value)),V.success("设置已保存"),console.log("设置已保存:",o.value)},A=()=>{o.value={depth:2,count:5,style:"严谨"}},B=()=>{x(),N.push("/thinking")},E=()=>{const s=localStorage.getItem("aiSettings");s&&(o.value=JSON.parse(s))},w=()=>{const s=localStorage.getItem("feedbacks");s&&(p.value=JSON.parse(s).reverse())};P(()=>{E(),w()});const F=async()=>{if(v.value)try{await v.value.validate(),g.value=!0,setTimeout(()=>{const s=JSON.parse(localStorage.getItem("feedbacks")||"[]");s.push({...d.value,id:Date.now(),createdAt:new Date().toISOString()}),localStorage.setItem("feedbacks",JSON.stringify(s)),V.success("反馈提交成功，感谢您的参与！"),I(),w(),g.value=!1},1e3)}catch(s){console.error("表单验证失败:",s),g.value=!1}},I=()=>{v.value&&v.value.resetFields(),d.value={type:"",content:"",contact:""}},T=s=>{Y.confirm("确定要删除这条反馈吗？","删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{p.value=p.value.filter(e=>e.id!==s),localStorage.setItem("feedbacks",JSON.stringify(p.value)),V.success("反馈已删除")}).catch(()=>{})},q=()=>{_.value=!_.value},z=s=>({suggestion:"功能建议",bug:"bug报告",experience:"体验优化",other:"其他"})[s]||s,D=s=>new Date(s).toLocaleString();return(s,e)=>{const G=n("el-slider"),i=n("el-form-item"),H=n("el-input-number"),S=n("el-radio"),L=n("el-radio-group"),f=n("el-button"),k=n("el-card"),h=n("el-option"),R=n("el-select"),$=n("el-input"),Z=n("el-tag"),j=n("el-timeline-item"),K=n("el-timeline");return r(),b("div",ee,[u("div",le,[e[20]||(e[20]=u("h2",null,"设置",-1)),l(k,{class:"settings-card"},{default:a(()=>[e[12]||(e[12]=u("h3",null,"AI设置",-1)),l(C(J),{"label-width":"120px"},{default:a(()=>[l(i,{label:"提问深度"},{default:a(()=>[l(G,{modelValue:o.value.depth,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value.depth=t),min:1,max:3,marks:{1:"基础",2:"进阶",3:"专家"}},null,8,["modelValue"])]),_:1}),l(i,{label:"提问数量"},{default:a(()=>[l(H,{modelValue:o.value.count,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.count=t),min:3,max:10,step:1},null,8,["modelValue"])]),_:1}),l(i,{label:"提问风格"},{default:a(()=>[l(L,{modelValue:o.value.style,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.style=t)},{default:a(()=>[l(S,{label:"严谨"},{default:a(()=>[...e[6]||(e[6]=[c("严谨",-1)])]),_:1}),l(S,{label:"轻松"},{default:a(()=>[...e[7]||(e[7]=[c("轻松",-1)])]),_:1}),l(S,{label:"幽默"},{default:a(()=>[...e[8]||(e[8]=[c("幽默",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),u("div",ae,[l(f,{type:"primary",onClick:x},{default:a(()=>[...e[9]||(e[9]=[c("保存设置",-1)])]),_:1}),l(f,{onClick:A},{default:a(()=>[...e[10]||(e[10]=[c("重置",-1)])]),_:1}),l(f,{onClick:B},{default:a(()=>[...e[11]||(e[11]=[c("返回对话",-1)])]),_:1})])]),_:1}),l(k,{class:"settings-card"},{default:a(()=>[e[18]||(e[18]=u("h3",null,"意见反馈",-1)),l(C(J),{"label-width":"120px",ref_key:"feedbackFormRef",ref:v,model:d.value,"status-icon":""},{default:a(()=>[l(i,{label:"反馈类型",prop:"type",required:""},{default:a(()=>[l(R,{modelValue:d.value.type,"onUpdate:modelValue":e[3]||(e[3]=t=>d.value.type=t),placeholder:"请选择反馈类型"},{default:a(()=>[l(h,{label:"功能建议",value:"suggestion"}),l(h,{label:"bug报告",value:"bug"}),l(h,{label:"体验优化",value:"experience"}),l(h,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"反馈内容",prop:"content",required:""},{default:a(()=>[l($,{modelValue:d.value.content,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value.content=t),type:"textarea",rows:5,placeholder:"请详细描述您的反馈内容"},null,8,["modelValue"])]),_:1}),l(i,{label:"联系方式",prop:"contact"},{default:a(()=>[l($,{modelValue:d.value.contact,"onUpdate:modelValue":e[5]||(e[5]=t=>d.value.contact=t),placeholder:"请留下您的联系方式（可选）"},null,8,["modelValue"])]),_:1}),l(i,null,{default:a(()=>[l(f,{type:"primary",onClick:F,loading:g.value},{default:a(()=>[c(y(g.value?"提交中...":"提交反馈"),1)]),_:1},8,["loading"]),l(f,{onClick:I},{default:a(()=>[...e[13]||(e[13]=[c("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"]),u("div",te,[u("div",{class:"feedback-list-header",onClick:q},[e[14]||(e[14]=u("h4",null,"我的反馈列表",-1)),u("span",ue,y(_.value?"▼":"▶"),1)]),_.value?(r(),b("div",se,[p.value.length===0?(r(),b("div",ne,[...e[15]||(e[15]=[u("p",null,"暂无反馈记录",-1)])])):(r(),U(K,{key:1},{default:a(()=>[(r(!0),b(W,null,X(p.value,t=>(r(),U(j,{key:t.id,timestamp:D(t.createdAt)},{default:a(()=>[l(k,{class:"feedback-item-card"},{default:a(()=>[u("div",oe,[l(Z,{type:t.type==="bug"?"danger":t.type==="suggestion"?"success":"info"},{default:a(()=>[c(y(z(t.type)),1)]),_:2},1032,["type"]),l(f,{type:"danger",size:"small",circle:"",onClick:pe=>T(t.id),title:"删除反馈"},{default:a(()=>[...e[16]||(e[16]=[u("i",{class:"el-icon-delete"},null,-1)])]),_:1},8,["onClick"])]),u("div",ce,y(t.content),1),t.contact?(r(),b("div",de,[e[17]||(e[17]=u("strong",null,"联系方式：",-1)),c(y(t.contact),1)])):O("",!0)]),_:2},1024)]),_:2},1032,["timestamp"]))),128))]),_:1}))])):O("",!0)])]),_:1}),l(k,{class:"settings-card"},{default:a(()=>[...e[19]||(e[19]=[u("h3",null,"关于",-1),u("div",{class:"about-content"},[u("p",null,"口袋里的苏格拉底 v0.1.0"),u("p",null,"用提问引发深度思考"),u("p",null,"© 2025 口袋里的苏格拉底")],-1)])]),_:1})])])}}},me=Q(ie,[["__scopeId","data-v-58b55bd4"]]);export{me as default};
